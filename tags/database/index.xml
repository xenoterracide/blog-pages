<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Database on Caleb Cushing&#39;s blog</title>
    <link>http://blog.xenoterracide.com/tags/database/index.xml</link>
    <description>Recent content in Database on Caleb Cushing&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://blog.xenoterracide.com/tags/database/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Some Stack Exchange site&#39;s I&#39;d like to see come to fruition</title>
      <link>http://blog.xenoterracide.com/post/some-stack-exchange-sites-id-like-to-see-come-to-fruition/</link>
      <pubDate>Tue, 03 Aug 2010 12:20:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/some-stack-exchange-sites-id-like-to-see-come-to-fruition/</guid>
      <description>&lt;p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&#34;http://area51.stackexchange.com/proposals/3924/unix-linux?referrer=s0g13y0qpO1HCU3O7ctt0A2&#34;&gt;Unix &amp;amp; Linux&lt;/a&gt;: I think it&amp;rsquo;d be more used than Super User and ServerFault for some questions.&lt;/li&gt;&lt;li&gt;&lt;a href=&#34;http://area51.stackexchange.com/proposals/4260/outer-join?referrer=A71RjNgv6G65LIh8JGLLjA2&#34;&gt;Outer Join&lt;/a&gt;: A place to ask questions about databases and queries&lt;/li&gt;&lt;li&gt;&lt;a href=&#34;http://area51.stackexchange.com/proposals/5728/user-interface?referrer=BeMOftH0UvJjQjB3FEO2qg2&#34;&gt;User Interface&lt;/a&gt;: because this is something we could all do better with.&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;Please consider following/committing. esp the unix/linux one (since I don&amp;rsquo;t think Ubuntu should get to have its own, while leaving the rest of us in the cold.)&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL initial setup (authentication) Part 2</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication-part-2/</link>
      <pubDate>Tue, 19 Jan 2010 11:37:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication-part-2/</guid>
      <description>&lt;p&gt;I ran into so problems and lack of information with my last &lt;a href=&#34;http://xenoterracide.blogspot.com/2009/08/postgresql-initial-setup-authentication.html&#34;&gt;post on this topic&lt;/a&gt;. Firstly my syntax for &lt;code&gt;local all all to local all all ident devel&lt;br /&gt;&lt;/code&gt; doesn&amp;rsquo;t seem to work in my current setup. It&amp;rsquo;s possible that it has something to do with the configuration of the Debian/Ubuntu server I was basing that against, and now my targets are Arch Linux and Slackware.&lt;br /&gt;&lt;br /&gt;So our goal here will be to provide an alternate user that can log in as postgres via ident. why would you want to do this? maybe you&amp;rsquo;re tired of su - to the postgres unix user after logging in as your administrative user (root?).&lt;br /&gt;&lt;br /&gt;First we need to open our pg_ident.conf and add the following line.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;admin root postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;So as I said in the last post on this: &amp;ldquo;admin&amp;rdquo; is an arbitrary identifier, root is the system user, and postgres is the database user. Now let&amp;rsquo;s go ahead and make sure the postgres system user can still login.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;admin postgres postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;ok that&amp;rsquo;s all we need to do in the pg_ident.conf. Go ahead and open pg_hba.conf and add this line above the default 3 lines in the file.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;local all postgres ident map=admin&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;as a breakdown: local is for socket connections, all means all databases, ident means it&amp;rsquo;s checking for local users, and map=admin says look at the users in the admin identifier in pg_ident.conf.&lt;br /&gt;&lt;br /&gt;Now you should be able to run psql dname postgres as root. You will not be able to use the db postgres user as any system user not in the admin map.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Difference Between a Database and a Database Instance</title>
      <link>http://blog.xenoterracide.com/post/difference-between-a-database-and-a-database-instance/</link>
      <pubDate>Tue, 10 Nov 2009 15:00:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/difference-between-a-database-and-a-database-instance/</guid>
      <description>&lt;p&gt;I was prowling &lt;a href=&#34;http://stackoverflow.com&#34;&gt;StackOverflow&lt;/a&gt; today and &lt;a href=&#34;http://stackoverflow.com/questions/1705381/is-there-a-reason-to-use-two-databases/&#34;&gt;the question&lt;/a&gt; was asked when you would use 2 databases. I&amp;rsquo;m amazed at the number of answers of replication and sharding (some under the guise of some other description). The only answer I can think of to be correct is Different Applications/Services (shared hosting probably falls under those 2 in a weird way). I&amp;rsquo;m going to explain why a replicated database and/or a sharded database are not multiple databases.&lt;br /&gt;&lt;br /&gt;Firstly, we must understand what a database is and is not. A database is not a computer program that runs and stores data, this is DBMS (Database Management System). A database simply is a collection of data. A database is an organized collection of data. Many Definitions of a Database include computers, however not all do, in fact Joe Celko argues that first database were precursors to written language in the Middle East (see &lt;a href=&#34;http://www.amazon.com/Joe-Celkos-Data-Databases-Management/dp/1558604324/ref=pd_sim_b_6&#34;&gt;Data and Databases&lt;/a&gt; Chapter 1). It may be true that database are organized for quick retrieval of information in a certain way, however they are not necessarily designed for quick retrieval of all information, in any way.&lt;br /&gt;&lt;br /&gt;So what are some example&amp;rsquo;s of a Non Computer Database? A phone book is a good example of a database. It&amp;rsquo;s really fast to look someone up if you know there last name, but not if all you have is their phone number and you want their address. You&amp;rsquo;ll Also note that it&amp;rsquo;s got various ways of searching if you&amp;rsquo;re looking for businesses. It is not a good example of a normalized database, but I&amp;rsquo;m not sure that&amp;rsquo;s possible with a paper database that allows you to find the same information in multiple ways. A phone book is simply a collection of Names, Addresses, and Phone Numbers, and Categories (tags).&lt;br /&gt;&lt;br /&gt;So wouldn&amp;rsquo;t two phone books be two databases? well if they are published by different vendors, or at different times, then yes. However, if you have two copies of the same phone book, then you have two instances of that database, that have been &amp;lsquo;replicated&amp;rsquo; from a &amp;lsquo;master&amp;rsquo; copy. You can&amp;rsquo;t update one of these &amp;lsquo;slave&amp;rsquo; copy&amp;rsquo;s and expect them to replicate, you must update the &amp;lsquo;master&amp;rsquo; and publish the updates. Unlike computer Phone books are extremely slow to push updates. Let&amp;rsquo;s say you want to call a friend, Steven, over for pizza, and your roommate, John, wants to try a new pizza place. John can look at one copy of the phone book to look up the addresses and phone numbers of  to the new pizza places you haven&amp;rsquo;t tried, while you look up Steven&amp;rsquo;s number in your copy of the book. This is exactly what happens with replication, different requesters doing lookups from different databases.&lt;br /&gt;&lt;br /&gt;Now let&amp;rsquo;s talk sharding, phone books aren&amp;rsquo;t sharded right? wrong! they are phone books are sharded by location. The entire phone book database for even 1 state would be too big for them to distribute, so they split it up into smaller regions. Only the phone book company has the entire list. So that makes it kind of a bad example. Let&amp;rsquo;s talk about encyclopedia&amp;rsquo;s instead. They are a much better example since you don&amp;rsquo;t generally buy one encyclopedia, you buy the whole set (which is also replicated and you can think of it&amp;rsquo;s replication in the same way as phone books). Each encyclopedia volume tells on the side which letters it contains, so when you open it you know you&amp;rsquo;re in the right vicinity. This is how a shard works, your database got too big an unmanageable as a whole so you split it up into &amp;lsquo;shards&amp;rsquo; or &amp;lsquo;partitions&amp;rsquo; to make it faster to search and easier to handle and store.&lt;br /&gt;&lt;br /&gt;Now to clarify my answer to that original question. You wouldn&amp;rsquo;t put a phone number (phone entry not included) in an encyclopedia even though I&amp;rsquo;m sure Bill Clinton has one, you might list it in the phone book though. So now you see when you would use a different database. Very clearly you would use one when the type of data is different enough, when it&amp;rsquo;s for different organizations, or when it&amp;rsquo;s for kind of shared service.&lt;br /&gt;&lt;br /&gt;I hope these analogies to computer databases have helped explain the concepts.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL initial setup (authentication)</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication/</link>
      <pubDate>Mon, 24 Aug 2009 01:00:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication/</guid>
      <description>&lt;p&gt;If you followed my &lt;a href=&#34;http://xenoterracide.blogspot.com/2009/03/postgresql-initial-setup-users-and.html&#34;&gt;last initial setup&lt;/a&gt; post on creating users and are running a default install of postgres you currently should be able to access the database on your cli. However, many distributions do not install postgres in a default manner. A great many distributions make the default authentication for sockets &lt;code&gt;ident sameuser&lt;/code&gt;. This is technically much more secure than &lt;code&gt;trust&lt;/code&gt; which is the default. However, you may find yourself locked out of your database on the local cli if you make the database name different. I personally was confused about this after first encountering this setting.&lt;br /&gt;&lt;br /&gt;So, we don&amp;rsquo;t want &lt;code&gt;trust&lt;/code&gt; but we want to use a db username other than our shell login, most likely because we have more than one database. There are several options but I personally think &lt;code&gt;ident&lt;/code&gt; is a good one. However, since we don&amp;rsquo;t want to use the same shell login name we have to modify &lt;code&gt;pg_ident.conf&lt;/code&gt; and &lt;code&gt;pg_hba.conf&lt;/code&gt;, locations vary by distribution.&lt;br /&gt;&lt;br /&gt;In &lt;code&gt;pg_ident.conf&lt;/code&gt; you have to create a line with the following formatting.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;# MAPNAME     IDENT-USERNAME    PG-USERNAME&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;I think it&amp;rsquo;s mostly straightforward. In case it isn&amp;rsquo;t, MAPNAME is an arbitrary identifier, sameuser is actually the mapname in &lt;code&gt;ident sameuser&lt;/code&gt; A quick example from mine would be&lt;br /&gt;&lt;br /&gt;&lt;code&gt;devel xenoterracide webdev&lt;/code&gt;where my unix username is xenoterracide but I created the database user webdev. If you wanted you could add another devel mapname with another user or the same unix account different db account, or even a different unix account same db account, etc.&lt;br /&gt;&lt;br /&gt;After you add all the various mappings you need to add or change the ident in pg_hba.conf. You can only have one method per type/database/user/address combination. so in pg_hba.conf you want to change &lt;br /&gt;&lt;br /&gt;&lt;code&gt; local all all &lt;trust or ident sameuser&gt;&lt;/code&gt; to &lt;code&gt;local all all ident devel&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;If you want postgres to ask for a password use &lt;code&gt;md5&lt;/code&gt; instead of &lt;code&gt;ident&lt;/code&gt; further information can be found at &lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/auth-methods.html&#34;&gt;http://www.postgresql.org/docs/current/interactive/auth-methods.html&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;if you have any problems you might want to see &lt;a href=&#34;http://xenoterracide.blogspot.com/2010/01/postgresql-initial-setup-authentication.html&#34;&gt;part 2&lt;/a&gt;.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>postgresql initial setup (users and databases)</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-users-and-databases/</link>
      <pubDate>Wed, 18 Mar 2009 05:22:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-users-and-databases/</guid>
      <description>&lt;p&gt;This guide assumes that you&amp;rsquo;ve managed to &lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/installation.html&#34;&gt;install&lt;/a&gt; and start the postgres server. I&amp;rsquo;m ignoring these because they are well documented in several places, probably including your distribution, however, what to do next isn&amp;rsquo;t.&lt;br /&gt;&lt;br /&gt;first you need to connect to the postgres database with psql as postgres, on gentoo* distributions you must be in the postgres group to do this. In the event this doesn&amp;rsquo;t work you may have to su to the postgres unix user account somehow and run psql from there.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;psql postgres postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;you now have connected to what is essentially the &amp;lsquo;root&amp;rsquo; user for postgres. as with all &amp;lsquo;super user&amp;rsquo; accounts be careful and know what you are doing. also, as with all &amp;lsquo;super user&amp;rsquo; accounts you don&amp;rsquo;t normally want to run as them, so we need to create another user. I recommend creating the user with the same name as whatever shell account you may be connecting to it from (if applicable) because then you don&amp;rsquo;t have to specify the username when typing psql.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/sql-createrole.html&#34;&gt;CREATE USER&lt;/a&gt; xenoterracide WITH PASSWORD &amp;lsquo;YeahLikeIdTellYou&amp;rsquo;;&lt;/code&gt; &lt;br /&gt;&lt;br /&gt;next you need to give the user a database. like the user account if you make it the same name as the shell account you won&amp;rsquo;t have to pass it to psql.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/sql-createdatabase.html&#34;&gt;CREATE DATABASE&lt;/a&gt; xenoterracide WITH OWNER xenoterracide;&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;now you&amp;rsquo;re done with the setting up your users account so quit psql by tying &lt;code&gt;\q&lt;/code&gt; at the prompt. now you can simply log in from your users shell by typing psql and SQL-ing away.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>