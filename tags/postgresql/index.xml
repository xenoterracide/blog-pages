<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Postgresql on Caleb Cushing&#39;s blog</title>
    <link>http://blog.xenoterracide.com/tags/postgresql/index.xml</link>
    <description>Recent content in Postgresql on Caleb Cushing&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://blog.xenoterracide.com/tags/postgresql/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How not to ask for help</title>
      <link>http://blog.xenoterracide.com/post/how-not-to-ask-for-help/</link>
      <pubDate>Thu, 11 Mar 2010 00:22:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/how-not-to-ask-for-help/</guid>
      <description>&lt;p&gt;This is the story of my friends problem today.&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;I got one for ya.&lt;br /&gt;&lt;br /&gt;Field like field &lt;cite&gt;&amp;ndash;friend&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;so of course I&amp;rsquo;m like: &lt;quote&gt;? is that a question?&lt;/quote&gt; he had given me no prelude, no premise. response&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;I tried field like &amp;lsquo;%&amp;rsquo; + field2 + &amp;lsquo;%&amp;rsquo;&lt;br /&gt;&lt;br /&gt;No good though&lt;br /&gt;&lt;cite&gt;&amp;ndash;friend&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;So I explained that % is a wildcard. He still hadn&amp;rsquo;t explained what his problem is or what he was trying to do.&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;it giving you a syntax error? &lt;cite&gt;&amp;ndash;me&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;So here I am trying to guess at what his problem is. I&amp;rsquo;ve never used sql server but a quick glance at postgres docs suggested the syntax was wrong. I know don&amp;rsquo;t query other docs than the software being used&amp;hellip; but I wanted to run a test locally to see if I could figure out what he was doing. &lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;Doesn&amp;rsquo;t work &lt;cite&gt;&amp;ndash;friend&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;Oh! that&amp;rsquo;s very helpful&amp;hellip; way to give more information. I think I now know why he never asks questions in IRC or forums. He never learned how to ask a question and they won&amp;rsquo;t put up with him.&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;so it&amp;rsquo;s not a syntax error it just doesn&amp;rsquo;t do what you want? &lt;cite&gt;&amp;ndash;me&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;blockquote&gt;Right. The like command isn&amp;rsquo;t finding it &lt;cite&gt;&amp;ndash;friend&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;So finally I&amp;rsquo;m able to determine&amp;hellip; his problem is he&amp;rsquo;s got a &lt;code&gt;&amp;hellip; WHERE &amp;hellip; LIKE &amp;hellip; &lt;/code&gt; that isn&amp;rsquo;t returning what he expects. This is still completely worthless because I still haven&amp;rsquo;t been able to figure out what he&amp;rsquo;s trying to do&amp;hellip; or more correctly I have but not why it isn&amp;rsquo;t working because his code is right. which means he&amp;rsquo;s fallen prey to the assumption that he knows what I need to know to solve his problem. He hadn&amp;rsquo;t given me enough info. After I tried to explain to him how to do what I thought he was trying to do and giving him a sample query and some data&amp;hellip; he gives me this&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;Field1 = &amp;ldquo;4369&amp;rdquo;   field2 = &amp;ldquo;4311&amp;rdquo;, &amp;ldquo;4369&amp;rdquo; &lt;cite&gt;&amp;ndash;friend&lt;/cite&gt;&lt;/blockquote&gt;&lt;br /&gt;Now anyone who&amp;rsquo;s familiar with sets will probably realize the notation here is bad and so you can&amp;rsquo;t tell if these are sample columns or records. a more proper way to write this would have been &lt;code&gt;field1 = { &amp;lsquo;&amp;ldquo;4369&amp;rdquo;&amp;rsquo;} field2 = {&amp;lsquo;&amp;ldquo;4311&amp;rdquo;, &amp;ldquo;4369&amp;rdquo;&amp;rsquo;}&lt;/code&gt; I probably still would have been a little confused just because I wouldn&amp;rsquo;t have been sure he was writing it right. See the problem here is that field 2 is an array and therefore not stored properly in a relational manner, it&amp;rsquo;s why he has to do a much slower LIKE in the first place. After bantering to figure out that this was in fact text data these were single records I eventually figured out that what he was trying to do was find field2 if it contaned field1. However, his code was asking for field1 if it contained field2. basically he had his parameters reversed.&lt;br /&gt;&lt;br /&gt;It took me 20 minutes of getting that data to realize they were reversed, which is shameful for me&amp;hellip; but I was trying to figure out things like VARCHAR or INTEGER&amp;hellip; he of course said it&amp;rsquo;s not an array, and I suppose it&amp;rsquo;s not an ARRAY type in sql.. but I guarantee that&amp;rsquo;s why it looks like that&amp;hellip; it&amp;rsquo;s really a foreign key stored as an array in a varchar. After I told him he lied and said it didn&amp;rsquo;t work only to come back 10 minutes later and say&amp;hellip; you were right.&lt;br /&gt;&lt;br /&gt;so the final should have been&lt;br /&gt;&lt;br /&gt;&lt;code&gt;WHERE field2 LIKE &amp;lsquo;%&amp;rsquo; + field1 + &amp;lsquo;%&amp;rsquo;&lt;/code&gt; or in postgres &lt;code&gt;WHERE field2 LIKE &amp;lsquo;%&amp;rsquo; || field1 || &amp;lsquo;%&amp;rsquo;&lt;/code&gt; because we use the standard || for string concatenation instead of the +&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>empty() function for postgresql in sql</title>
      <link>http://blog.xenoterracide.com/post/empty-function-for-postgresql-in-sql/</link>
      <pubDate>Wed, 20 Jan 2010 13:00:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/empty-function-for-postgresql-in-sql/</guid>
      <description>&lt;p&gt;In PostgreSQL the ASCII NULL or empty string &lt;code&gt;\0&lt;/code&gt; is seen as NOT NULL. This is because postgres developers consider any characters data. I know there are better discussions on it but I can&amp;rsquo;t find them right now. Unfortunately the programming language you are using probably doesn&amp;rsquo;t see it the same way. There&amp;rsquo;s a good chance that initialized variables are set to &lt;code&gt;\0&lt;/code&gt; and so when you try to insert from your language to a NOT NULL field with variables that are seen as undefined in your language, postgres accepts it, and now you have fields that you probably consider to have no data but are NOT NULL.&lt;br /&gt;&lt;br /&gt;My function possibly would be better called empty_or_whitespace but in my mind any text field that contains only whitespace is empty, and I&amp;rsquo;d rather have 1 function and 1 regex deal with both than have 2 functions have to be called on every insert/update.&lt;br /&gt;&lt;br /&gt;Here is the gist&lt;br /&gt;&lt;script src=&#34;http://gist.github.com/281093.js&#34;&gt;&lt;/script&gt;&lt;br /&gt;It returns true if an empty string is found. It really requires a knowledge of SQL, PostgreSQL&amp;rsquo;s &lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/sql-createfunction.html&#34;&gt;CREATE FUNCTION&lt;/a&gt;, and Regular Expressions, to understand. Thanks to the wonderfully helpful PostgreSQL community with perfecting it.&lt;br /&gt;&lt;br /&gt;In order to use it to keep ASCII NULLS and fields that someone has just entered whitespace into you need to add it to your table as a constraint.&lt;br /&gt;&lt;br /&gt;Here&amp;rsquo;s an example create table gist using it.&lt;br /&gt;&lt;script src=&#34;http://gist.github.com/281118.js&#34;&gt;&lt;/script&gt;&lt;br /&gt;remember it returns true on null&amp;rsquo;s and whitespace so you have to say NOT emtpy( field ).&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL initial setup (authentication) Part 2</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication-part-2/</link>
      <pubDate>Tue, 19 Jan 2010 11:37:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication-part-2/</guid>
      <description>&lt;p&gt;I ran into so problems and lack of information with my last &lt;a href=&#34;http://xenoterracide.blogspot.com/2009/08/postgresql-initial-setup-authentication.html&#34;&gt;post on this topic&lt;/a&gt;. Firstly my syntax for &lt;code&gt;local all all to local all all ident devel&lt;br /&gt;&lt;/code&gt; doesn&amp;rsquo;t seem to work in my current setup. It&amp;rsquo;s possible that it has something to do with the configuration of the Debian/Ubuntu server I was basing that against, and now my targets are Arch Linux and Slackware.&lt;br /&gt;&lt;br /&gt;So our goal here will be to provide an alternate user that can log in as postgres via ident. why would you want to do this? maybe you&amp;rsquo;re tired of su - to the postgres unix user after logging in as your administrative user (root?).&lt;br /&gt;&lt;br /&gt;First we need to open our pg_ident.conf and add the following line.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;admin root postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;So as I said in the last post on this: &amp;ldquo;admin&amp;rdquo; is an arbitrary identifier, root is the system user, and postgres is the database user. Now let&amp;rsquo;s go ahead and make sure the postgres system user can still login.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;admin postgres postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;ok that&amp;rsquo;s all we need to do in the pg_ident.conf. Go ahead and open pg_hba.conf and add this line above the default 3 lines in the file.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;local all postgres ident map=admin&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;as a breakdown: local is for socket connections, all means all databases, ident means it&amp;rsquo;s checking for local users, and map=admin says look at the users in the admin identifier in pg_ident.conf.&lt;br /&gt;&lt;br /&gt;Now you should be able to run psql dname postgres as root. You will not be able to use the db postgres user as any system user not in the admin map.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL initial setup (authentication)</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication/</link>
      <pubDate>Mon, 24 Aug 2009 01:00:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-authentication/</guid>
      <description>&lt;p&gt;If you followed my &lt;a href=&#34;http://xenoterracide.blogspot.com/2009/03/postgresql-initial-setup-users-and.html&#34;&gt;last initial setup&lt;/a&gt; post on creating users and are running a default install of postgres you currently should be able to access the database on your cli. However, many distributions do not install postgres in a default manner. A great many distributions make the default authentication for sockets &lt;code&gt;ident sameuser&lt;/code&gt;. This is technically much more secure than &lt;code&gt;trust&lt;/code&gt; which is the default. However, you may find yourself locked out of your database on the local cli if you make the database name different. I personally was confused about this after first encountering this setting.&lt;br /&gt;&lt;br /&gt;So, we don&amp;rsquo;t want &lt;code&gt;trust&lt;/code&gt; but we want to use a db username other than our shell login, most likely because we have more than one database. There are several options but I personally think &lt;code&gt;ident&lt;/code&gt; is a good one. However, since we don&amp;rsquo;t want to use the same shell login name we have to modify &lt;code&gt;pg_ident.conf&lt;/code&gt; and &lt;code&gt;pg_hba.conf&lt;/code&gt;, locations vary by distribution.&lt;br /&gt;&lt;br /&gt;In &lt;code&gt;pg_ident.conf&lt;/code&gt; you have to create a line with the following formatting.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;# MAPNAME     IDENT-USERNAME    PG-USERNAME&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;I think it&amp;rsquo;s mostly straightforward. In case it isn&amp;rsquo;t, MAPNAME is an arbitrary identifier, sameuser is actually the mapname in &lt;code&gt;ident sameuser&lt;/code&gt; A quick example from mine would be&lt;br /&gt;&lt;br /&gt;&lt;code&gt;devel xenoterracide webdev&lt;/code&gt;where my unix username is xenoterracide but I created the database user webdev. If you wanted you could add another devel mapname with another user or the same unix account different db account, or even a different unix account same db account, etc.&lt;br /&gt;&lt;br /&gt;After you add all the various mappings you need to add or change the ident in pg_hba.conf. You can only have one method per type/database/user/address combination. so in pg_hba.conf you want to change &lt;br /&gt;&lt;br /&gt;&lt;code&gt; local all all &lt;trust or ident sameuser&gt;&lt;/code&gt; to &lt;code&gt;local all all ident devel&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;If you want postgres to ask for a password use &lt;code&gt;md5&lt;/code&gt; instead of &lt;code&gt;ident&lt;/code&gt; further information can be found at &lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/auth-methods.html&#34;&gt;http://www.postgresql.org/docs/current/interactive/auth-methods.html&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;if you have any problems you might want to see &lt;a href=&#34;http://xenoterracide.blogspot.com/2010/01/postgresql-initial-setup-authentication.html&#34;&gt;part 2&lt;/a&gt;.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>More Security = Better. Wrong!</title>
      <link>http://blog.xenoterracide.com/post/more-security--better.-wrong/</link>
      <pubDate>Sat, 22 Aug 2009 19:54:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/more-security--better.-wrong/</guid>
      <description>&lt;p&gt;So I just had a discussion on &lt;a href=&#34;irc://chat.freenode.net/ubuntu-server&#34;&gt;#ubuntu-server on freenode&lt;/a&gt; about why my not having a password to connect to postgresql via a socket (read local cli) is insecure. So I asked them, how exactly is it that someone is going to get this access? The answer &amp;ldquo;there are bad people on the Internet&amp;rdquo;. I&amp;rsquo;m sure many people right now are agreeing with them and thinking I&amp;rsquo;m crazy. Let&amp;rsquo;s discuss my setup though shall we.&lt;br /&gt;&lt;br /&gt;Postgres: I&amp;rsquo;m using Ident, and not just sameuser ident. no I had to set a custom rule in the pg_ident.conf file for this user to access because the systemuser != the db user. so just typing psql at the command line should you get access still won&amp;rsquo;t get you into the db. you have to know which user/database to connect to. But that&amp;rsquo;s not that hard right? in fact it&amp;rsquo;s trivial.In addition you have to be a certain systemuser, only one works.&lt;br /&gt;&lt;br /&gt;User Access: There is only one user account on the system that can be logged into (it&amp;rsquo;s not root or a generic name). Only 2 people have the credentials to get shell access. One is my host, who happens to have physical and kvm access. The other is me who has ssh access.&lt;br /&gt;&lt;br /&gt;SSH: I have ssh on a high port with no password authentication, or root, allowed.&lt;br /&gt;&lt;br /&gt;So in order to passwordlessly access the database you would have to ssh into the system from a remote location or find an exploitable bug in apache (the only other service listening, or the kernel) that allows you to switch to my non apache user (meaning root access).&lt;br /&gt;&lt;br /&gt;In addition, this system user had rw access to the entire website which includes a file containing the password to the database in plain text. So let&amp;rsquo;s say I created a .pgpass file or variables? what exactly is it that would keep anyone who has access to this account from gaining access to the database? in fact wouldn&amp;rsquo;t it just make it easier, since pgpass has a known location and contains all connection info including the username/dbname string? &lt;br /&gt;&lt;br /&gt;But why do I need passwordless access anyways? I wrote a script that dumps the db every hour to a git repo and then pushes that to a remote.&lt;br /&gt;&lt;br /&gt;Could I secure it further? yeah I could. I could make the script run as a user who can&amp;rsquo;t log in at all and then put a pgpass in that users account. I&amp;rsquo;d have to properly ACL the webroot to give the correct write and read access. But is all this really necessary? maybe and I might do it, but at this point it&amp;rsquo;s not nearly as important as it was for me to get backups up and running, because regardless of all the security I implement, if I have no backup and someone finds that loophole in one of the pieces of software and uses it, I might just be screwed. At least now I can restore the site if it gets attacked.&lt;br /&gt;&lt;br /&gt;P.S. I was having a problem with my backup not being run by cron, never did figure out why.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>postgresql initial setup (users and databases)</title>
      <link>http://blog.xenoterracide.com/post/postgresql-initial-setup-users-and-databases/</link>
      <pubDate>Wed, 18 Mar 2009 05:22:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-initial-setup-users-and-databases/</guid>
      <description>&lt;p&gt;This guide assumes that you&amp;rsquo;ve managed to &lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/installation.html&#34;&gt;install&lt;/a&gt; and start the postgres server. I&amp;rsquo;m ignoring these because they are well documented in several places, probably including your distribution, however, what to do next isn&amp;rsquo;t.&lt;br /&gt;&lt;br /&gt;first you need to connect to the postgres database with psql as postgres, on gentoo* distributions you must be in the postgres group to do this. In the event this doesn&amp;rsquo;t work you may have to su to the postgres unix user account somehow and run psql from there.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;psql postgres postgres&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;you now have connected to what is essentially the &amp;lsquo;root&amp;rsquo; user for postgres. as with all &amp;lsquo;super user&amp;rsquo; accounts be careful and know what you are doing. also, as with all &amp;lsquo;super user&amp;rsquo; accounts you don&amp;rsquo;t normally want to run as them, so we need to create another user. I recommend creating the user with the same name as whatever shell account you may be connecting to it from (if applicable) because then you don&amp;rsquo;t have to specify the username when typing psql.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/sql-createrole.html&#34;&gt;CREATE USER&lt;/a&gt; xenoterracide WITH PASSWORD &amp;lsquo;YeahLikeIdTellYou&amp;rsquo;;&lt;/code&gt; &lt;br /&gt;&lt;br /&gt;next you need to give the user a database. like the user account if you make it the same name as the shell account you won&amp;rsquo;t have to pass it to psql.&lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;a href=&#34;http://www.postgresql.org/docs/current/interactive/sql-createdatabase.html&#34;&gt;CREATE DATABASE&lt;/a&gt; xenoterracide WITH OWNER xenoterracide;&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;now you&amp;rsquo;re done with the setting up your users account so quit psql by tying &lt;code&gt;\q&lt;/code&gt; at the prompt. now you can simply log in from your users shell by typing psql and SQL-ing away.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL \edit and Syntax Highlighting</title>
      <link>http://blog.xenoterracide.com/post/postgresql-edit-and-syntax-highlighting/</link>
      <pubDate>Sat, 29 Nov 2008 10:35:00 +0000</pubDate>
      
      <guid>http://blog.xenoterracide.com/post/postgresql-edit-and-syntax-highlighting/</guid>
      <description>&lt;p&gt;If you&amp;rsquo;ve ever used \edit with PostgreSQL you&amp;rsquo;ve probably noticed that it&amp;rsquo;s not using syntax highlighting that your favorite editor most likely supports. I&amp;rsquo;ve wondered why this is for a while, Postgres uses vim on my system which supports robust highlighting among other things.&lt;br /&gt;&lt;br /&gt;I had a few things suggested to me, such as setting putting settings in my .vimrc, most of which would have forced filetype=sql on files that weren&amp;rsquo;t sql, and would have been active outside of psql.&lt;br /&gt;&lt;br /&gt;When you have a question what&amp;rsquo;s the first thing you should do? RTFM. The answer was in the man page all along.&lt;br /&gt;&lt;br /&gt;&lt;blockquote&gt;&lt;br /&gt;  Tip:  psql searches the environment variables PSQL_EDITOR,&lt;br /&gt;        EDITOR, and VISUAL (in that order) for an editor  to  use.&lt;br /&gt;        If  all  of  them  are  unset, vi is used on Unix systems,&lt;br /&gt;        notepad.exe on Windows systems.&lt;br /&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;br /&gt;so how does this solve the problem? well the only program that uses PSQL_EDITOR is Postgres, and most editors allow you to specify options at startup. In the case of vim, if you want to have use filetype=sql for the default filetype for \edit all you have to do is &lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;br /&gt;export PSQL_EDITOR=&amp;lsquo;vim -c &amp;ldquo;set ft=sql&amp;rdquo;&amp;rsquo;&lt;br /&gt;&lt;/code&gt;&lt;br /&gt;&lt;br /&gt;of course if you don&amp;rsquo;t use vim or you want to set some different options you&amp;rsquo;ll have to read the documentation for your editor, or operating system.&lt;div class=&#34;blogger-post-footer&#34;&gt;&lt;br /&gt;&amp;ndash;&lt;br /&gt;
This &lt;span xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; href=&#34;http://purl.org/dc/dcmitype/Text&#34; rel=&#34;dc:type&#34;&gt;work&lt;/span&gt; by &lt;a xmlns:cc=&#34;http://creativecommons.org/ns#&#34; href=&#34;http://www.xenoterracide.com&#34; property=&#34;cc:attributionName&#34; rel=&#34;cc:attributionURL&#34;&gt;Caleb Cushing&lt;/a&gt; is licensed under a &lt;a rel=&#34;license&#34; href=&#34;http://creativecommons.org/licenses/by-nc-sa/3.0/&#34;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>